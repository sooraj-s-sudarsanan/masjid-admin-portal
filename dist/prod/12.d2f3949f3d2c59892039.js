(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{l1Aq:function(t,e,o){"use strict";o.r(e),o.d(e,"LocalityModule",(function(){return k}));var a=o("ofXK"),i=o("tyNb"),c=o("zViY"),n=o("0IaG"),l=o("SXVO"),r=o("fXoL"),s=o("6xPc"),m=o("jKJn"),d=o("bTqV");let u=(()=>{class t{constructor(t,e,o,a){this.dialogRef=t,this.row=e,this.manageGridService=o,this.alertService=a}ngOnInit(){}deleteRowData(){this.row&&this.manageGridService.deleteRowData(c.a.localityModule.key,{localityId:this.row.data.localityId}).subscribe(t=>{t&&t.result&&"SUCCESS"===t.result.status&&(this.dialogRef.close({action:"Delete"}),this.alertService.open(l.a.SUCCESS,t.result.data))},t=>{console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(n.g),r.Zb(n.a),r.Zb(s.a),r.Zb(m.a))},t.\u0275cmp=r.Tb({type:t,selectors:[["app-locality-delete"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.fc(0,"h1",0),r.Yc(1,"Confirmation"),r.ec(),r.fc(2,"mat-dialog-content"),r.fc(3,"p"),r.Yc(4,"Do you want to delete?"),r.ec(),r.ec(),r.fc(5,"div",1),r.fc(6,"button",2),r.oc("click",(function(){return e.deleteRowData()})),r.Yc(7,"Yes"),r.ec(),r.fc(8,"button",3),r.Yc(9,"No"),r.ec(),r.ec()),2&t&&(r.Nb(8),r.Ac("mat-dialog-close","NO"))},directives:[n.h,n.e,n.c,d.a,n.d],styles:[""]}),t})();var f=o("3Pt+"),y=o("XOzN"),p=o("dzPw"),h=o("kmnG"),g=o("qFsG"),b=o("d3UM"),N=o("FKr1");function w(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," Locality Name is required "),r.ec())}function S(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," length exceeded "),r.ec())}function v(t,e){if(1&t&&(r.fc(0,"mat-error"),r.Wc(1,w,2,0,"span",13),r.Wc(2,S,2,0,"span",13),r.ec()),2&t){const t=r.sc();r.Nb(1),r.Ac("ngIf",t.eform.localityName.errors.required),r.Nb(1),r.Ac("ngIf",t.eform.localityName.errors.maxlength)}}function C(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," Locality Name Arb. is required "),r.ec())}function I(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," length exceeded "),r.ec())}function A(t,e){if(1&t&&(r.fc(0,"mat-error"),r.Wc(1,C,2,0,"span",13),r.Wc(2,I,2,0,"span",13),r.ec()),2&t){const t=r.sc();r.Nb(1),r.Ac("ngIf",t.eform.localityNameAR.errors.required),r.Nb(1),r.Ac("ngIf",t.eform.localityNameAR.errors.maxlength)}}function R(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," Locality Code is required "),r.ec())}function M(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," length exceeded "),r.ec())}function Y(t,e){if(1&t&&(r.fc(0,"mat-error"),r.Wc(1,R,2,0,"span",13),r.Wc(2,M,2,0,"span",13),r.ec()),2&t){const t=r.sc();r.Nb(1),r.Ac("ngIf",t.eform.localityCode.errors.required),r.Nb(1),r.Ac("ngIf",t.eform.localityCode.errors.maxlength)}}function q(t,e){if(1&t&&(r.fc(0,"mat-option",15),r.Yc(1),r.ec()),2&t){const t=e.$implicit;r.Ac("value",t.nationalityId),r.Nb(1),r.ad(" ",t.nationalityName," ")}}function B(t,e){1&t&&(r.fc(0,"span",14),r.Yc(1," Please choose Nationality "),r.ec())}function L(t,e){if(1&t&&(r.fc(0,"mat-error"),r.Wc(1,B,2,0,"span",13),r.ec()),2&t){const t=r.sc();r.Nb(1),r.Ac("ngIf",t.form.get("nationalityBean.nationalityId").errors.required)}}let x=(()=>{class t{constructor(t,e,o,a,i,c,n){this.dialogRef=t,this.row=e,this.formBuilder=o,this.manageGridService=a,this.alertService=i,this.headerService=c,this.adminBaseService=n}ngOnInit(){this.form=this.formBuilder.group({localityName:[this.row.data?this.row.data.localityName:"",[f.x.required,f.x.maxLength(100)]],localityNameAR:[this.row.data?this.row.data.localityNameAR:"",[f.x.required,f.x.maxLength(100)]],nationalityBean:this.formBuilder.group({nationalityId:[this.row.data&&this.row.data.nationalityBean?this.row.data.nationalityBean.nationalityId:"",[f.x.required]]}),localityCode:[this.row.data?this.row.data.localityCode:"",[f.x.required]],localityId:[this.row.data?this.row.data.localityId:""]}),this.headerService.toggleSpinner(!0),this.adminBaseService.requestSubmit("ADM_LIST_NATIONALITY",null).subscribe(t=>{t&&t.result&&(this.headerService.toggleSpinner(!1),"SUCCESS"===t.result.status&&(this.nationalityList=t.result.data))},t=>{this.headerService.toggleSpinner(!1)})}get eform(){return this.form.controls}onSubmit(){const t=this.row.data?"Edit":"New";if(this.form.invalid)return!1;this.manageGridService.addORupdateRowData(c.a.localityModule.key,!this.row.data,this.form.value).subscribe(e=>{e&&e.result&&"SUCCESS"===e.result.status&&(this.dialogRef.close({action:t,rowValue:e.result.data}),this.alertService.open(l.a.SUCCESS,`${c.a.localityModule.name} ${this.row.data?"edited":"created"} successfully`))},t=>{})}get moduleKeyModel(){return c.a}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(n.g),r.Zb(n.a),r.Zb(f.d),r.Zb(s.a),r.Zb(m.a),r.Zb(y.a),r.Zb(p.a))},t.\u0275cmp=r.Tb({type:t,selectors:[["app-locality-grid-action"]],decls:24,vars:9,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],["color","accent",1,"full-width"],["matInput","","placeholder","Locality Name","autocomplete","off","formControlName","localityName","required",""],[4,"ngIf"],["matInput","","placeholder","Locality Name AR","autocomplete","off","formControlName","localityNameAR","required",""],["matInput","","placeholder","Locality Code","autocomplete","off","formControlName","localityCode","required",""],["formGroupName","nationalityBean",1,"full-width"],["formControlName","nationalityId"],[3,"value",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["type","submit","mat-raised-button","","color","primary"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"],["class","alert-danger",4,"ngIf"],[1,"alert-danger"],[3,"value"]],template:function(t,e){1&t&&(r.fc(0,"form",0),r.oc("ngSubmit",(function(){return e.onSubmit()})),r.fc(1,"h1",1),r.Yc(2),r.ec(),r.fc(3,"mat-dialog-content"),r.fc(4,"mat-form-field",2),r.ac(5,"input",3),r.Wc(6,v,3,2,"mat-error",4),r.ec(),r.fc(7,"mat-form-field",2),r.ac(8,"input",5),r.Wc(9,A,3,2,"mat-error",4),r.ec(),r.fc(10,"mat-form-field",2),r.ac(11,"input",6),r.Wc(12,Y,3,2,"mat-error",4),r.ec(),r.fc(13,"mat-form-field",7),r.fc(14,"mat-label"),r.Yc(15,"Choose Country"),r.ec(),r.fc(16,"mat-select",8),r.Wc(17,q,2,2,"mat-option",9),r.ec(),r.Wc(18,L,2,1,"mat-error",4),r.ec(),r.ec(),r.fc(19,"div",10),r.fc(20,"button",11),r.Yc(21,"Submit"),r.ec(),r.fc(22,"button",12),r.Yc(23,"Cancel"),r.ec(),r.ec(),r.ec()),2&t&&(r.Ac("formGroup",e.form),r.Nb(2),r.bd("",e.row.data?"Edit":"Add","\xa0",e.moduleKeyModel.localityModule.name,""),r.Nb(4),r.Ac("ngIf",e.eform.localityName.invalid&&(e.eform.localityName.dirty||e.eform.localityName.touched)),r.Nb(3),r.Ac("ngIf",e.eform.localityNameAR.invalid&&(e.eform.localityNameAR.dirty||e.eform.localityNameAR.touched)),r.Nb(3),r.Ac("ngIf",e.eform.localityCode.invalid&&(e.eform.localityCode.dirty||e.eform.localityCode.touched)),r.Nb(5),r.Ac("ngForOf",e.nationalityList),r.Nb(1),r.Ac("ngIf",e.form.get("nationalityBean.nationalityId").invalid&&(e.form.get("nationalityBean.nationalityId").dirty||e.form.get("nationalityBean.nationalityId").touched)),r.Nb(4),r.Ac("mat-dialog-close","NO"))},directives:[f.z,f.p,f.h,n.h,n.e,h.c,g.b,f.c,f.o,f.g,f.v,a.l,f.i,h.g,b.a,a.k,n.c,d.a,n.d,h.b,N.m],styles:[""]}),t})();var T=o("VxG0"),W=o("R3N2");const P=[{path:"list",component:(()=>{class t{constructor(t){this.permissionService=t,this.columns=[{prop:"localityName",name:"Locality Name"},{prop:"localityNameAR",name:"Locality Name AR"},{prop:"localityCode",name:"Locality Code"},{prop:"nationalityBean.nationalityName",name:"Country"}],this.actionButtons=[{type:"New",matTooltip:"New "+this.moduleKeyModel.localityModule.name,matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"add",dialogComponent:x,hasPermission:this.permissionService.hasPermission("New")},{type:"Edit",matTooltip:this.moduleKeyModel.localityModule.name+" Edit",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"edit",dialogComponent:x,hasPermission:this.permissionService.hasPermission("Edit")},{type:"Delete",matTooltip:this.moduleKeyModel.localityModule.name+" Delete",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"warn",matIcon:"delete",dialogComponent:u,hasPermission:this.permissionService.hasPermission("Delete")}]}ngOnInit(){}get moduleKeyModel(){return c.a}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(T.a))},t.\u0275cmp=r.Tb({type:t,selectors:[["app-locality-list"]],decls:1,vars:4,consts:[[3,"inSection","inColumns","inactionButtons","moduleDisplayName"]],template:function(t,e){1&t&&r.ac(0,"app-manage-grid",0),2&t&&r.Ac("inSection",e.moduleKeyModel.localityModule.key)("inColumns",e.columns)("inactionButtons",e.actionButtons)("moduleDisplayName",e.moduleKeyModel.localityModule.name)},directives:[W.a],styles:[""]}),t})()}];let D=(()=>{class t{}return t.\u0275mod=r.Xb({type:t}),t.\u0275inj=r.Wb({factory:function(e){return new(e||t)},imports:[[i.e.forChild(P)],i.e]}),t})();var K=o("pKmL"),Z=o("rsRi");let k=(()=>{class t{}return t.\u0275mod=r.Xb({type:t}),t.\u0275inj=r.Wb({factory:function(e){return new(e||t)},imports:[[a.c,D,K.a,Z.a,f.j,f.u]]}),t})()}}]);