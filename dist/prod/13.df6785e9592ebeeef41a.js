(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"2Gki":function(e,t,a){"use strict";a.r(t),a.d(t,"ManageAppDetailsModule",(function(){return K}));var o=a("ofXK"),i=a("pKmL"),r=a("rsRi"),s=a("tyNb"),n=a("zViY"),c=a("3Pt+"),d=a("0IaG"),m=a("wd/R"),l=a("SXVO"),p=a("fXoL"),u=a("6xPc"),f=a("jKJn"),h=a("XOzN"),g=a("dzPw"),w=a("kmnG"),b=a("d3UM"),v=a("qFsG"),y=a("bSwM"),T=a("z17N"),S=a("bTqV"),M=a("FKr1");function N(e,t){if(1&e&&(p.fc(0,"mat-option",24),p.Yc(1),p.ec()),2&e){const e=t.$implicit;p.Ac("value",e.deviceTypeId),p.Nb(1),p.ad(" ",e.deviceType," ")}}function A(e,t){1&e&&(p.fc(0,"span",26),p.Yc(1," Please choose Device Type "),p.ec())}function C(e,t){if(1&e&&(p.fc(0,"mat-error"),p.Wc(1,A,2,0,"span",25),p.ec()),2&e){const e=p.sc();p.Nb(1),p.Ac("ngIf",e.form.get("deviceType.deviceTypeId").errors.required)}}let I=(()=>{class e{constructor(e,t,a,o,i,r,s){this.dialogRef=e,this.row=t,this.formBuilder=a,this.manageGridService=o,this.alertService=i,this.headerService=r,this.adminBaseService=s,this.subscriptions=[]}ngOnInit(){this.form=this.formBuilder.group({latestVersion:[this.row.data?this.row.data.latestVersion:""],downloadUrl:[this.row.data?this.row.data.downloadUrl:""],description:[this.row.data?this.row.data.description:""],appStatus:[!!this.row.data&&this.row.data.appStatus],downtimeStartsAt:[this.row.data&&this.row.data.downtimeStarts?m(this.row.data.downtimeStarts,"DD-MM-YYYY hh:mm"):null],downtimeEndsAt:[this.row.data&&this.row.data.downtimeEnds?m(this.row.data.downtimeEnds,"DD-MM-YYYY hh:mm"):null],downtimeMessage:[this.row.data?this.row.data.downtimeMessage:""],upgradeMessage:[this.row.data?this.row.data.upgradeMessage:""],upgradeMessageArb:[this.row.data?this.row.data.upgradeMessageArb:""],downtimeMessageArb:[this.row.data?this.row.data.downtimeMessageArb:""],deviceType:this.formBuilder.group({deviceTypeId:[this.row.data&&this.row.data.deviceType?this.row.data.deviceType.deviceTypeId:"",[c.x.required]]})}),this.headerService.toggleSpinner(!0),this.subscriptions.push(this.adminBaseService.requestSubmit("ADM_LIST_DEVICE_TYPE",null).subscribe(e=>{e&&e.result&&"SUCCESS"===e.result.status&&(this.deviceTypeList=e.result.data)},e=>{this.headerService.toggleSpinner(!1)}))}get eform(){return this.form.controls}onSubmit(){const e=this.row.data?"Edit":"New";if(this.form.invalid)return!1;this.manageGridService.addORupdateRowData(n.a.appManagement.key,!this.row.data,this.form.value).subscribe(t=>{t&&t.result&&"SUCCESS"===t.result.status&&(this.dialogRef.close({action:e,rowValue:t.result.data}),this.alertService.open(l.a.SUCCESS,`${n.a.appManagement.name} ${this.row.data?"edited":"created"} successfully`))},e=>{console.log(e)})}get moduleKeyModel(){return n.a}}return e.\u0275fac=function(t){return new(t||e)(p.Zb(d.g),p.Zb(d.a),p.Zb(c.d),p.Zb(u.a),p.Zb(f.a),p.Zb(h.a),p.Zb(g.a))},e.\u0275cmp=p.Tb({type:e,selectors:[["app-manage-app-details-grid-action"]],decls:41,vars:12,consts:[[3,"formGroup","ngSubmit"],["ngForm","ngForm"],["mat-dialog-title","",1,"dialog-title-h1"],["formGroupName","deviceType",1,"full-width"],["formControlName","deviceTypeId"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["color","accent",1,"full-width"],["matInput","","placeholder","latest Version","autocomplete","off","formControlName","latestVersion"],["matInput","","placeholder","Download Url","autocomplete","off","formControlName","downloadUrl"],["matInput","","placeholder","Description","autocomplete","off","formControlName","description"],["formControlName","appStatus"],["matInput","","placeholder","Downtime Starts At","disabled","","autocomplete","off","formControlName","downtimeStartsAt",3,"owlDateTime","owlDateTimeTrigger"],[3,"hour12Timer"],["dt1",""],["matInput","","placeholder","Downtime Ends At","disabled","","autocomplete","off","formControlName","downtimeEndsAt",3,"owlDateTime","owlDateTimeTrigger"],["dt2",""],["matInput","","placeholder","Down time Message","autocomplete","off","formControlName","downtimeMessage"],["matInput","","placeholder","Upgrade Message","autocomplete","off","formControlName","upgradeMessage"],["matInput","","placeholder","Upgrade Message Arabic","autocomplete","off","formControlName","upgradeMessageArb"],["matInput","","placeholder","Downtime Message Arabic","autocomplete","off","formControlName","downtimeMessageArb"],["mat-dialog-actions",""],["type","submit","mat-raised-button","","color","primary"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"],[3,"value"],["class","alert-danger",4,"ngIf"],[1,"alert-danger"]],template:function(e,t){if(1&e&&(p.fc(0,"form",0,1),p.oc("ngSubmit",(function(){return t.onSubmit()})),p.fc(2,"h1",2),p.Yc(3),p.ec(),p.fc(4,"mat-dialog-content"),p.fc(5,"mat-form-field",3),p.fc(6,"mat-label"),p.Yc(7,"Choose Device Type"),p.ec(),p.fc(8,"mat-select",4),p.Wc(9,N,2,2,"mat-option",5),p.ec(),p.Wc(10,C,2,1,"mat-error",6),p.ec(),p.fc(11,"mat-form-field",7),p.ac(12,"input",8),p.ec(),p.fc(13,"mat-form-field",7),p.ac(14,"input",9),p.ec(),p.fc(15,"mat-form-field",7),p.ac(16,"input",10),p.ec(),p.fc(17,"div",7),p.fc(18,"mat-checkbox",11),p.Yc(19,"Active"),p.ec(),p.ec(),p.fc(20,"mat-form-field",7),p.ac(21,"input",12),p.ec(),p.ac(22,"owl-date-time",13,14),p.fc(24,"mat-form-field",7),p.ac(25,"input",15),p.ec(),p.ac(26,"owl-date-time",13,16),p.fc(28,"mat-form-field",7),p.ac(29,"input",17),p.ec(),p.fc(30,"mat-form-field",7),p.ac(31,"input",18),p.ec(),p.fc(32,"mat-form-field",7),p.ac(33,"input",19),p.ec(),p.fc(34,"mat-form-field",7),p.ac(35,"input",20),p.ec(),p.ec(),p.fc(36,"div",21),p.fc(37,"button",22),p.Yc(38,"Submit"),p.ec(),p.fc(39,"button",23),p.Yc(40,"Cancel"),p.ec(),p.ec(),p.ec()),2&e){const e=p.Jc(23),a=p.Jc(27);p.Ac("formGroup",t.form),p.Nb(3),p.bd("",t.row.data?"Edit":"Add","\xa0",t.moduleKeyModel.branch.name," "),p.Nb(6),p.Ac("ngForOf",t.deviceTypeList),p.Nb(1),p.Ac("ngIf",t.form.get("deviceType.deviceTypeId").invalid&&(t.form.get("deviceType.deviceTypeId").dirty||t.form.get("deviceType.deviceTypeId").touched)),p.Nb(11),p.Ac("owlDateTime",e)("owlDateTimeTrigger",e),p.Nb(1),p.Ac("hour12Timer",!1),p.Nb(3),p.Ac("owlDateTime",a)("owlDateTimeTrigger",a),p.Nb(1),p.Ac("hour12Timer",!1),p.Nb(13),p.Ac("mat-dialog-close","NO")}},directives:[c.z,c.p,c.h,d.h,d.e,w.c,c.i,w.g,b.a,c.o,c.g,o.k,o.l,v.b,c.c,y.a,T.e,T.g,T.d,d.c,S.a,d.d,M.m,w.b],styles:[""]}),e})();var D=a("VxG0"),Y=a("R3N2");const E=[{path:"list",component:(()=>{class e{constructor(e){this.permissionService=e,this.columns=[{prop:"deviceType.deviceType",name:"Device Type"},{prop:"latestVersion",name:"Latest Version"},{prop:"downloadUrl",name:"Download Url"}],this.actionButtons=[{type:"New",matTooltip:"New "+this.moduleKeyModel.appManagement.name,matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"add",dialogComponent:I,hasPermission:this.permissionService.hasPermission("New")},{type:"Edit",matTooltip:this.moduleKeyModel.appManagement.name+" Edit",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"edit",dialogComponent:I,hasPermission:this.permissionService.hasPermission("Edit")}]}ngOnInit(){}get moduleKeyModel(){return n.a}}return e.\u0275fac=function(t){return new(t||e)(p.Zb(D.a))},e.\u0275cmp=p.Tb({type:e,selectors:[["app-manage-app-detailss-list"]],decls:1,vars:4,consts:[[3,"inSection","inColumns","inactionButtons","moduleDisplayName"]],template:function(e,t){1&e&&p.ac(0,"app-manage-grid",0),2&e&&p.Ac("inSection",t.moduleKeyModel.appManagement.key)("inColumns",t.columns)("inactionButtons",t.actionButtons)("moduleDisplayName",t.moduleKeyModel.appManagement.name)},directives:[Y.a],styles:[""]}),e})()}];let U=(()=>{class e{}return e.\u0275mod=p.Xb({type:e}),e.\u0275inj=p.Wb({factory:function(t){return new(t||e)},imports:[[s.e.forChild(E)],s.e]}),e})();var V=a("6HvG"),G=a("wMrW");let K=(()=>{class e{}return e.\u0275mod=p.Xb({type:e}),e.\u0275inj=p.Wb({factory:function(t){return new(t||e)},providers:[{provide:T.a,useClass:V.a,deps:[T.c]},{provide:T.b,useValue:G.MY_CUSTOM_FORMATS}],imports:[[o.c,U,i.a,r.a,c.j,c.u,T.f,V.b,T.h]]}),e})()}}]);