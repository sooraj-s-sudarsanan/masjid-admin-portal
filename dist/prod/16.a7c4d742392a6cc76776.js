(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{BtE3:function(e,t,o){"use strict";o.r(t),o.d(t,"NotificationGroupModule",(function(){return j}));var r=o("ofXK"),a=o("tyNb"),i=o("3Pt+"),c=o("SXVO"),n=o("zViY"),s=o("0IaG"),l=o("fXoL"),m=o("jKJn"),f=o("6xPc"),u=o("dzPw"),d=o("XOzN"),p=o("kmnG"),g=o("qFsG"),h=o("d3UM"),b=o("bTqV"),y=o("FKr1");function N(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," Group Type is required "),l.ec())}function w(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," length exceeded "),l.ec())}function S(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,N,2,0,"span",14),l.Wc(2,w,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.groupType.errors.required),l.Nb(1),l.Ac("ngIf",e.eform.groupType.errors.maxlength)}}function v(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," Group Name is required "),l.ec())}function A(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," length exceeded "),l.ec())}function I(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,v,2,0,"span",14),l.Wc(2,A,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.groupName.errors.required),l.Nb(1),l.Ac("ngIf",e.eform.groupName.errors.maxlength)}}function C(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," Group Name Arb. is required "),l.ec())}function T(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," length exceeded "),l.ec())}function Y(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,C,2,0,"span",14),l.Wc(2,T,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.groupNameArb.errors.required),l.Nb(1),l.Ac("ngIf",e.eform.groupNameArb.errors.maxlength)}}function G(e,t){if(1&e&&(l.fc(0,"mat-option",16),l.Yc(1),l.ec()),2&e){const e=t.$implicit;l.Ac("value",e),l.Nb(1),l.ad(" ",e," ")}}function P(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," Platform is required "),l.ec())}function B(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,P,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.platform.errors.required)}}function O(e,t){if(1&e&&(l.fc(0,"mat-option",16),l.Yc(1),l.ec()),2&e){const e=t.$implicit;l.Ac("value",e),l.Nb(1),l.ad(" ",e," ")}}function q(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," Category is required "),l.ec())}function x(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,q,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.category.errors.required)}}function M(e,t){if(1&e&&(l.fc(0,"mat-option",16),l.Yc(1),l.ec()),2&e){const e=t.$implicit;l.Ac("value",e),l.Nb(1),l.ad(" ",e," ")}}function W(e,t){1&e&&(l.fc(0,"span",15),l.Yc(1," NotifyBy is required "),l.ec())}function R(e,t){if(1&e&&(l.fc(0,"mat-error"),l.Wc(1,W,2,0,"span",14),l.ec()),2&e){const e=l.sc();l.Nb(1),l.Ac("ngIf",e.eform.notifyBy.errors.required)}}let F=(()=>{class e{constructor(e,t,o,r,a,i,c){this.dialogRef=e,this.row=t,this.formBuilder=o,this.alertService=r,this.manageGridService=a,this.adminBaseService=i,this.headerService=c,this.iconList=[],this.selectedPlatforms=[],this.selectedUserRoles=[]}ngOnInit(){this.cacheForm=this.formBuilder.group({groupId:[this.row.data?this.row.data.groupId:""],groupType:[this.row.data?this.row.data.groupType:null,[i.x.required,i.x.maxLength(250)]],groupName:[this.row.data?this.row.data.groupName:null,[i.x.required,i.x.maxLength(500)]],groupNameArb:[this.row.data?this.row.data.groupNameArb:null,[i.x.required,i.x.maxLength(500)]],platform:[],category:[this.row.data?this.row.data.category:null,[i.x.required]],notifyBy:[this.row.data?this.row.data.notifyBy:null,[i.x.required]]}),this.row.data&&this.row.data.platform&&(this.selectedPlatforms=this.row.data.platform.split(",")),this.headerService.toggleSpinner(!0),this.adminBaseService.requestSubmit("ADM_LISTNOTIFGROUPMETADATA",null).subscribe(e=>{this.headerService.toggleSpinner(!1),e&&e.result&&"SUCCESS"===e.result.status&&(this.notifType=e.result.data.notifType,this.category=e.result.data.category,this.platform=e.result.data.platform,this.notifyBy=e.result.data.notifyBy)})}patchValues(e){return this.formBuilder.group({roleId:[e]})}get eform(){return this.cacheForm.controls}onSubmit(){const e=this.row.data?"Edit":"New";if(this.cacheForm.invalid)return!1;let t=this.cacheForm.getRawValue();if(!(this.selectedPlatforms.length>0))return this.alertService.open(c.a.ERROR,"Please choose platform"),!1;t.platform=this.selectedPlatforms.join(","),this.manageGridService.addORupdateRowData(n.a.notificationGroup.key,!this.row.data,t).subscribe(t=>{t&&t.result&&"SUCCESS"===t.result.status&&(this.dialogRef.close({action:e,rowValue:t.result.data}),this.alertService.open(c.a.SUCCESS,`${n.a.notificationGroup.name} ${this.row.data?"edited":"created"} successfully`))},e=>{console.log(e)})}searchIcon(e,t){return e=e.toLowerCase(),t.fileIconCss.toLowerCase().indexOf(e)>-1||t.fileName.toLowerCase().indexOf(e)>-1}onSelectedUserRole(e){const t=JSON.parse(JSON.stringify(e));this.selectedUserRoles=t.map(e=>e)}onSelectedPlatform(e){this.selectedPlatforms=e.map(e=>e)}get moduleKeyModel(){return n.a}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(s.g),l.Zb(s.a),l.Zb(i.d),l.Zb(m.a),l.Zb(f.a),l.Zb(u.a),l.Zb(d.a))},e.\u0275cmp=l.Tb({type:e,selectors:[["app-notification-group-grid-action"]],decls:36,vars:15,consts:[[3,"formGroup","ngSubmit"],["mat-dialog-title",""],[1,"full-width"],["matInput","","placeholder","Group Type","autocomplete","off","formControlName","groupType","required",""],[4,"ngIf"],["matInput","","placeholder","Group Name","autocomplete","off","formControlName","groupName","required",""],["matInput","","placeholder","Group Name Arb.","autocomplete","off","formControlName","groupNameArb","required",""],["multiple","",3,"formControlName","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","category"],["formControlName","notifyBy"],["mat-dialog-actions",""],["type","submit","mat-raised-button","","color","primary"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"],["class","alert-danger",4,"ngIf"],[1,"alert-danger"],[3,"value"]],template:function(e,t){1&e&&(l.fc(0,"form",0),l.oc("ngSubmit",(function(){return t.onSubmit()})),l.fc(1,"h1",1),l.Yc(2),l.ec(),l.fc(3,"mat-dialog-content"),l.fc(4,"mat-form-field",2),l.ac(5,"input",3),l.Wc(6,S,3,2,"mat-error",4),l.ec(),l.fc(7,"mat-form-field",2),l.ac(8,"input",5),l.Wc(9,I,3,2,"mat-error",4),l.ec(),l.fc(10,"mat-form-field",2),l.ac(11,"input",6),l.Wc(12,Y,3,2,"mat-error",4),l.ec(),l.fc(13,"mat-form-field",2),l.fc(14,"mat-label"),l.Yc(15,"Choose Platform"),l.ec(),l.fc(16,"mat-select",7),l.oc("ngModelChange",(function(e){return t.selectedPlatforms=e})),l.Wc(17,G,2,2,"mat-option",8),l.ec(),l.Wc(18,B,2,1,"mat-error",4),l.ec(),l.fc(19,"mat-form-field",2),l.fc(20,"mat-label"),l.Yc(21,"Choose Category"),l.ec(),l.fc(22,"mat-select",9),l.Wc(23,O,2,2,"mat-option",8),l.ec(),l.Wc(24,x,2,1,"mat-error",4),l.ec(),l.fc(25,"mat-form-field",2),l.fc(26,"mat-label"),l.Yc(27,"Choose NotifyBy"),l.ec(),l.fc(28,"mat-select",10),l.Wc(29,M,2,2,"mat-option",8),l.ec(),l.Wc(30,R,2,1,"mat-error",4),l.ec(),l.ec(),l.fc(31,"div",11),l.fc(32,"button",12),l.Yc(33,"Submit"),l.ec(),l.fc(34,"button",13),l.Yc(35,"Cancel"),l.ec(),l.ec(),l.ec()),2&e&&(l.Ac("formGroup",t.cacheForm),l.Nb(2),l.bd("",t.row.data?"Edit":"Add","\xa0",t.moduleKeyModel.notificationGroup.name,""),l.Nb(4),l.Ac("ngIf",t.eform.groupType.invalid&&(t.eform.groupType.dirty||t.eform.groupType.touched)),l.Nb(3),l.Ac("ngIf",t.eform.groupName.invalid&&(t.eform.groupName.dirty||t.eform.groupName.touched)),l.Nb(3),l.Ac("ngIf",t.eform.groupNameArb.invalid&&(t.eform.groupNameArb.dirty||t.eform.groupNameArb.touched)),l.Nb(4),l.Ac("formControlName","platform")("ngModel",t.selectedPlatforms),l.Nb(1),l.Ac("ngForOf",t.platform),l.Nb(1),l.Ac("ngIf",t.eform.platform.invalid&&(t.eform.platform.dirty||t.eform.platform.touched)),l.Nb(5),l.Ac("ngForOf",t.category),l.Nb(1),l.Ac("ngIf",t.eform.category.invalid&&(t.eform.category.dirty||t.eform.category.touched)),l.Nb(5),l.Ac("ngForOf",t.notifyBy),l.Nb(1),l.Ac("ngIf",t.eform.notifyBy.invalid&&(t.eform.notifyBy.dirty||t.eform.notifyBy.touched)),l.Nb(4),l.Ac("mat-dialog-close","NO"))},directives:[i.z,i.p,i.h,s.h,s.e,p.c,g.b,i.c,i.o,i.g,i.v,r.l,p.g,h.a,r.k,s.c,b.a,s.d,p.b,y.m],styles:[""]}),e})(),Z=(()=>{class e{constructor(e,t){this.dialogRef=e,this.row=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(s.g),l.Zb(s.a))},e.\u0275cmp=l.Tb({type:e,selectors:[["app-notification-group-details"]],decls:28,vars:12,consts:[["mat-dialog-title","",1,"h3","title"],["mat-dialog-actions",""],["mat-button","","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(l.fc(0,"h1",0),l.Yc(1,"Details"),l.ec(),l.fc(2,"mat-dialog-content"),l.fc(3,"p"),l.Yc(4),l.ec(),l.fc(5,"p"),l.Yc(6),l.ec(),l.fc(7,"p"),l.Yc(8),l.ec(),l.fc(9,"p"),l.Yc(10),l.ec(),l.fc(11,"p"),l.Yc(12),l.ec(),l.fc(13,"p"),l.Yc(14),l.ec(),l.fc(15,"p"),l.Yc(16),l.ec(),l.fc(17,"p"),l.Yc(18),l.ec(),l.fc(19,"p"),l.Yc(20),l.ec(),l.fc(21,"p"),l.Yc(22),l.ec(),l.fc(23,"p"),l.Yc(24),l.ec(),l.ec(),l.fc(25,"div",1),l.fc(26,"button",2),l.Yc(27,"Close"),l.ec(),l.ec()),2&e&&(l.Nb(4),l.ad("Group Id:",t.row.data.groupId,""),l.Nb(2),l.ad("Group Name:",t.row.data.groupName,""),l.Nb(2),l.ad("Category:",t.row.data.category,""),l.Nb(2),l.ad("GroupName Arb:",t.row.data.groupNameArb,""),l.Nb(2),l.ad("Group Type:",t.row.data.groupType,""),l.Nb(2),l.ad("Notify By:",t.row.data.notifyBy,""),l.Nb(2),l.ad("Platform:",t.row.data.platform,""),l.Nb(2),l.ad("Next Push After NMin:",t.row.data.nextPushAfterNMin,""),l.Nb(2),l.ad("Push From NMeter:",t.row.data.pushFromNMeter,""),l.Nb(2),l.ad("Sent Notification:",t.row.data.sentNotification,""),l.Nb(2),l.ad("Sorting Order:",t.row.data.sortingOrder,""),l.Nb(2),l.Ac("mat-dialog-close","NO"))},directives:[s.h,s.e,s.c,b.a,s.d],styles:[""]}),e})(),D=(()=>{class e{constructor(e,t,o,r){this.dialogRef=e,this.row=t,this.manageGridService=o,this.alertService=r}ngOnInit(){}deleteRowData(){this.row&&this.manageGridService.deleteRowData(n.a.notificationGroup.key,{groupId:this.row.data.groupId}).subscribe(e=>{e&&e.result&&"SUCCESS"===e.result.status&&(this.dialogRef.close({action:"Delete"}),this.alertService.open(c.a.SUCCESS,e.result.data))},e=>{console.log(e)})}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(s.g),l.Zb(s.a),l.Zb(f.a),l.Zb(m.a))},e.\u0275cmp=l.Tb({type:e,selectors:[["app-notification-group-delete"]],decls:10,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-actions",""],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn","cdkFocusInitial","",3,"mat-dialog-close"]],template:function(e,t){1&e&&(l.fc(0,"h1",0),l.Yc(1,"Confirmation"),l.ec(),l.fc(2,"mat-dialog-content"),l.fc(3,"p"),l.Yc(4,"Do you want to delete?"),l.ec(),l.ec(),l.fc(5,"div",1),l.fc(6,"button",2),l.oc("click",(function(){return t.deleteRowData()})),l.Yc(7,"Yes"),l.ec(),l.fc(8,"button",3),l.Yc(9,"No"),l.ec(),l.ec()),2&e&&(l.Nb(8),l.Ac("mat-dialog-close","NO"))},directives:[s.h,s.e,s.c,b.a,s.d],styles:[""]}),e})();var E=o("VxG0"),K=o("R3N2");const k=[{path:"list",component:(()=>{class e{constructor(e){this.permissionService=e,this.columns=[{prop:"groupType",name:"Group Type"},{prop:"groupName",name:"Group Name"},{prop:"platform",name:"Platform"}],this.actionButtons=[{type:"New",matTooltip:"New "+this.moduleKeyModel.notificationGroup.name,matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"add",dialogComponent:F,hasPermission:this.permissionService.hasPermission("New")},{type:"Info",matTooltip:this.moduleKeyModel.notificationGroup.name+" Info",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"info",dialogComponent:Z,hasPermission:this.permissionService.hasPermission("Info")},{type:"Edit",matTooltip:this.moduleKeyModel.notificationGroup.name+" Edit",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"primary",matIcon:"edit",dialogComponent:F,hasPermission:this.permissionService.hasPermission("Edit")},{type:"Delete",matTooltip:this.moduleKeyModel.notificationGroup.name+" Delete",matTooltipClass:"tooltip",matTooltipPosition:"above",color:"warn",matIcon:"delete",dialogComponent:D,hasPermission:this.permissionService.hasPermission("Delete")}]}ngOnInit(){}get moduleKeyModel(){return n.a}}return e.\u0275fac=function(t){return new(t||e)(l.Zb(E.a))},e.\u0275cmp=l.Tb({type:e,selectors:[["app-notification-group-list"]],decls:1,vars:4,consts:[[3,"inSection","inColumns","inactionButtons","moduleDisplayName"]],template:function(e,t){1&e&&l.ac(0,"app-manage-grid",0),2&e&&l.Ac("inSection",t.moduleKeyModel.notificationGroup.key)("inColumns",t.columns)("inactionButtons",t.actionButtons)("moduleDisplayName",t.moduleKeyModel.notificationGroup.name)},directives:[K.a],styles:[""]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=l.Xb({type:e}),e.\u0275inj=l.Wb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(k)],a.e]}),e})();var U=o("pKmL"),V=o("rsRi"),X=o("ZOsW");let j=(()=>{class e{}return e.\u0275mod=l.Xb({type:e}),e.\u0275inj=l.Wb({factory:function(t){return new(t||e)},imports:[[r.c,L,U.a,V.a,i.j,i.u,X.b]]}),e})()}}]);